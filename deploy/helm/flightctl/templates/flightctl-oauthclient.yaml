{{- if and (eq .Values.global.auth.type "openshift") .Values.global.auth.openshift.oauth.enabled }}
apiVersion: oauth.openshift.io/v1
kind: OAuthClient
metadata:
  name: {{ include "flightctl.getOpenShiftOAuthClientId" . }}
  labels:
    {{- include "flightctl.standardLabels" . | nindent 4 }}
    app: flightctl
    component: oauth-client
secret: {{ include "flightctl.getOpenShiftOAuthClientSecret" . | quote }}
redirectURIs:
  - "{{ include "flightctl.getUIUrl" . }}/callback"
grantMethod: auto
{{- end }}

