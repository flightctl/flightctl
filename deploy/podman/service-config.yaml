global:
  baseDomain:
  baseDomainTls: 
    # customServerCerts - if true services will load server certificates from 
    # /etc/flightctl/pki/custom/server.crt and /etc/flightctl/pki/custom/server.key
    customServerCerts: false
  auth:
    type: oidc # oidc, aap, oauth2, or none
    insecureSkipTlsVerify: false
    # customCaCert - if true services will load the CA certificate from
    # /etc/flightctl/pki/custom/auth/ca.crt
    customCaCert: false
    aap:
      apiUrl:
      externalApiUrl:
      oAuthApplicationClientId:
      oAuthToken:
    oidc:
      clientId: flightctl-client
      clientSecret:  # Optional: Client secret for OIDC provider (injected by token proxy)
      enabled: true
      issuer:
      externalOidcAuthority:
      organizationAssignment:
        type: static
        organizationName: default
      usernameClaim:
        - preferred_username
      roleAssignment:
        type: dynamic
        separator: ":"
        claimPath:
          - roles
    pamOidcIssuer:
      enabled: true
      # OIDC issuer URL - must include /api/v1/auth path. Leave empty to auto-configure as https://${global.baseDomain}:8444/api/v1/auth
      issuer:
      clientId: flightctl-client
      clientSecret:
      scopes:
        - openid
        - profile
        - email
        - roles
      pamService: flightctl
  organizations:
    # Enable IdP-provided organizations support
    enabled: false

db:
  # external: Set to "enabled" to use external PostgreSQL database
  # When enabled, set hostname, port, name to point to your external database
  external: "disabled"  # "disabled" (default) | "enabled"
  hostname: ""  # External DB hostname (required when external: "enabled")
  port: 5432
  name: flightctl
  user: flightctl_app
  migrationUser: flightctl_migrator
  # SSL configuration for secure database connections
  sslmode: ""       # SSL mode: disable, allow, prefer, require, verify-ca, verify-full
  sslcert: ""       # Path to SSL client certificate file
  sslkey: ""        # Path to SSL client key file
  sslrootcert: ""   # Path to SSL root certificate file (CA certificate)

service:
  # Rate limiting configuration
  # Note: Only flightctl-api and flightctl-alertmanager-proxy services use rate limiting
  # Other services ignore this configuration
  rateLimit:
    enabled: true
    requests: 300
    window: 1m
    authRequests: 20
    authWindow: 1h
    trustedProxies: []

observability:
  grafana:
    image:
    published_port:

    oauth:
      enabled:

      provider_type:

      auth_url:
      token_url:
      api_url:
      scopes:

      client_id:

    local_admin_user:
    local_admin_password:
    root_url:

  prometheus:
    image:

  telemetry_gateway:
    image:
    prometheus_port:
    grpc_port:
    config:
      telemetryGateway:
        export:
          prometheus:
        forward:
          endpoint:


  userinfo_proxy:
    image:
    upstream_url:
    skip_tls_verify:
