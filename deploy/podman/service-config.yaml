global:
  # The base domain for the deployment. Set this to a fully qualified domain name (FQDN)
  # that resolves via DNS to the host's IP address. For testing, you may use the system's
  # hostame or IP address, but this is not recommended for production use.
  # If left empty, defaults to the output of the `hostname` command and if that is not set
  # (i.e. it returns localhost), then defaults to the default IP address of the host.
  baseDomain:

  # Certificate generation method - 'none' or 'builtin'
  # - none: Do not generate certificates. User must provide certs in /etc/flightctl/pki/ or the service will fail to start.
  # - builtin: Generate a self-signed CA cert in /etc/flightctl/pki/ca.{crt,key}, unless the user already provided that CA.
  #            Generate the remaining certificates from the CA cert (default)
  generateCertificates: builtin
  auth:
    type: oidc # oidc, aap, oauth2, or none
    insecureSkipTlsVerify: true
    aap:
      apiUrl:
      externalApiUrl:
      oAuthApplicationClientId:
      oAuthToken:
    oidc:
      clientId: flightctl-client
      clientSecret:  # Optional: Client secret for OIDC provider (injected by token proxy)
      enabled: true
      issuer:
      externalOidcAuthority:
      organizationAssignment:
        type: dynamic
        claimPath:
          - organizations
      usernameClaim:
        - preferred_username
      roleAssignment:
        type: dynamic
        separator: ":"
        claimPath:
          - roles
    pamOidcIssuer:
      enabled: true
      # OIDC issuer URL - must include /api/v1/auth path. Leave empty to auto-configure as https://${global.baseDomain}:8444/api/v1/auth
      issuer:
      clientId: flightctl-client
      clientSecret:
      scopes:
        - openid
        - profile
        - email
        - roles
        - offline_access
      pamService: flightctl

db:
  name: flightctl
  # To use external PostgreSQL database replace `builtin` with `external` and set an appropriate `external:` block
  type: "builtin"

service:
  # Rate limiting configuration
  # Note: Only flightctl-api and flightctl-alertmanager-proxy services use rate limiting
  # Other services ignore this configuration
  rateLimit:
    enabled: true
    requests: 300
    window: 1m
    authRequests: 20
    authWindow: 1h
    trustedProxies: []

observability:
  grafana:
    image:
    published_port:

    oauth:
      enabled:

      provider_type:

      auth_url:
      token_url:
      api_url:
      scopes:

      client_id:

    local_admin_user:
    local_admin_password:
    root_url:

  prometheus:
    image:

  telemetry_gateway:
    image:
    prometheus_port:
    grpc_port:
    config:
      telemetryGateway:
        export:
          prometheus:
        forward:
          endpoint:


  userinfo_proxy:
    image:
    upstream_url:
    skip_tls_verify:
