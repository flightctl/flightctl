global:
  # The base domain for the deployment, from which the service FQDNs are derived.
  # If provided, must be a fully qualified domain name (FQDN) like "example.com" or a hostname that resolves via DNS.
  # If not provided, defaults to the system's hostname FQDN ('hostname -f').
  baseDomain:

  # Certificate generation method - 'none' or 'builtin'
  # - none: Do not generate certificates. User must provide certs in /etc/flightctl/pki/ or the service will fail to start.
  # - builtin: Generate a self-signed CA cert in /etc/flightctl/pki/ca.{crt,key}, unless the user already provided that CA.
  #            Generate the remaining certificates from the CA cert (default)
  generateCertificates: builtin
  auth:
    type: oidc # oidc, aap, oauth2, or none
    insecureSkipTlsVerify: true
    aap:
      enabled: true
      apiUrl:
      authorizationUrl:
      tokenUrl:
      clientId:
      clientSecret:
      scopes:
        - read
        - write
    oidc:
      clientId: flightctl-client
      clientSecret:  # Optional: Client secret for OIDC provider (injected by token proxy)
      enabled: true
      issuer:
      externalOidcAuthority:
      organizationAssignment:
        type: dynamic
        claimPath:
          - organizations
      usernameClaim:
        - preferred_username
      roleAssignment:
        type: dynamic
        separator: ":"
        claimPath:
          - roles
    pamOidcIssuer:
      enabled: true
      # OIDC issuer URL - must include /api/v1/auth path. Leave empty to auto-configure as https://${global.baseDomain}:8444/api/v1/auth
      issuer:
      clientId: flightctl-client
      clientSecret:
      scopes:
        - openid
        - profile
        - email
        - roles
        - offline_access
      pamService: flightctl
      branding:
        # Display name shown in the login page title ("<displayName> Login")
        # Default: "Flight Control"
        displayName:
        # Favicon data URI (e.g. "data:image/png;base64,..."). Default: built-in Flight Control icon
        faviconDataUri:
        # PatternFly v6 semantic token overrides for light theme
        # See https://www.patternfly.org/tokens/all-patternfly-tokens
        lightTheme:
          logoDataUri:         # Logo data URI for light mode (e.g. "data:image/svg+xml;base64,...")
          brandDefault:        # --pf-t--global--color--brand--default (buttons, links)
          brandHover:          # --pf-t--global--color--brand--hover
          brandClicked:        # --pf-t--global--color--brand--clicked
          backgroundPrimary:   # --pf-t--global--background--color--primary--default (card background)
          backgroundSecondary: # --pf-t--global--background--color--secondary--default (page background)
          textColorRegular:    # --pf-t--global--text--color--regular
        # PatternFly v6 semantic token overrides for dark theme
        darkTheme:
          logoDataUri:         # Logo data URI for dark mode
          brandDefault:        # --pf-t--global--color--brand--default
          brandHover:          # --pf-t--global--color--brand--hover
          brandClicked:        # --pf-t--global--color--brand--clicked
          backgroundPrimary:   # --pf-t--global--background--color--primary--default
          backgroundSecondary: # --pf-t--global--background--color--secondary--default
          textColorRegular:    # --pf-t--global--text--color--regular

db:
  name: flightctl
  # To use external PostgreSQL database replace `builtin` with `external` and set an appropriate `external:` block
  type: "builtin"

service:
  # Rate limiting configuration
  # Note: Only flightctl-api and flightctl-alertmanager-proxy services use rate limiting
  # Other services ignore this configuration
  rateLimit:
    enabled: true
    requests: 300
    window: 1m
    authRequests: 20
    authWindow: 1h
    trustedProxies: []

grafana:
  oauth:
    enabled:
    providerType:
    authUrl:
    tokenUrl:
    apiUrl:
    scopes:
    clientId:
  localAdminUser:
  localAdminPassword:
  rootUrl:
  insecureSkipTlsVerify:
  protocol:
  allowedUnsignedPlugins:

prometheus:

telemetryGateway:
  forward:
    endpoint:

userinfoProxy:
  upstreamUrl:
  insecureSkipTlsVerify:
