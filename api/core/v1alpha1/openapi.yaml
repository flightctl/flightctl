openapi: 3.0.1
info:
  title: Flight Control API
  version: v1alpha1
  description: |
    [Flight Control](https://flightctl.io) is a service for declarative management of fleets of edge devices and their workloads.

    This API version (v1alpha1) contains alpha-stage resources that are subject to change.
  contact:
    name: The Flight Control Team
    url: https://flightctl.io
    email: team@flightctl.io
  license:
    name: Apache 2.0
    url: https://www.apache.org/licenses/LICENSE-2.0.html
servers:
  - url: /api/v1
tags:
  - name: catalog
    description: Operations on Catalog resources.
paths:
  /catalogs:
    x-resource: catalogs
    get:
      tags:
        - catalog
      description: List Catalog resources.
      operationId: listCatalogs
      parameters:
        - name: continue
          in: query
          description: An optional parameter to query more results from the server. The value of the paramter must match the value of the 'continue' field in the previous list response.
          required: false
          schema:
            type: string
        - name: labelSelector
          in: query
          description: A selector to restrict the list of returned objects by their labels. Defaults to everything.
          schema:
            type: string
        - name: fieldSelector
          in: query
          description: A selector to restrict the list of returned objects by their fields, supporting operators like '=', '==', and '!=' (e.g., "key1=value1,key2!=value2").
          schema:
            type: string
        - name: limit
          in: query
          description: The maximum number of results returned in the list response. The server will set the 'continue' field in the list response if more results exist. The continue value may then be specified as parameter in a subsequent query.
          required: false
          schema:
            type: integer
            format: int32
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CatalogList'
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "429":
          description: Too Many Requests
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "503":
          description: Service Unavailable
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
    post:
      tags:
        - catalog
      description: Create a Catalog resource.
      operationId: createCatalog
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Catalog'
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Catalog'
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "409":
          description: Conflict
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "429":
          description: Too Many Requests
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "503":
          description: Service Unavailable
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
  /catalogs/{name}:
    x-resource: catalogs
    get:
      tags:
        - catalog
      description: Get a Catalog resource.
      operationId: getCatalog
      parameters:
        - name: name
          in: path
          description: The name of the Catalog resource to get.
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Catalog'
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "429":
          description: Too Many Requests
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "503":
          description: Service Unavailable
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
    put:
      tags:
        - catalog
      description: Update a Catalog resource.
      operationId: replaceCatalog
      parameters:
        - name: name
          in: path
          description: The name of the Catalog resource to update.
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Catalog'
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Catalog'
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Catalog'
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "409":
          description: Conflict
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "429":
          description: Too Many Requests
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "503":
          description: Service Unavailable
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
    delete:
      tags:
        - catalog
      description: Delete a Catalog resource.
      operationId: deleteCatalog
      parameters:
        - name: name
          in: path
          description: The name of the Catalog resource to delete.
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "429":
          description: Too Many Requests
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "503":
          description: Service Unavailable
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
    patch:
      tags:
        - catalog
      description: Patch a Catalog resource.
      operationId: patchCatalog
      parameters:
        - name: name
          in: path
          description: The name of the Catalog resource to patch.
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json-patch+json:
            schema:
              $ref: '../v1beta1/openapi.yaml#/components/schemas/PatchRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Catalog'
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "409":
          description: Conflict
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "429":
          description: Too Many Requests
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "503":
          description: Service Unavailable
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
  /catalogs/{name}/status:
    x-resource: catalogs
    get:
      tags:
        - catalog
      description: Get status of a Catalog resource.
      operationId: getCatalogStatus
      parameters:
        - name: name
          in: path
          description: The name of the Catalog resource.
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Catalog'
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "429":
          description: Too Many Requests
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "503":
          description: Service Unavailable
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
    put:
      tags:
        - catalog
      description: Update status of a Catalog resource.
      operationId: replaceCatalogStatus
      parameters:
        - name: name
          in: path
          description: The name of the Catalog resource.
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Catalog'
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Catalog'
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "409":
          description: Conflict
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "429":
          description: Too Many Requests
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "503":
          description: Service Unavailable
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
    patch:
      tags:
        - catalog
      description: Patch status of a Catalog resource.
      operationId: patchCatalogStatus
      parameters:
        - name: name
          in: path
          description: The name of the Catalog resource.
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json-patch+json:
            schema:
              $ref: '../v1beta1/openapi.yaml#/components/schemas/PatchRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Catalog'
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "429":
          description: Too Many Requests
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "503":
          description: Service Unavailable
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
  /catalogs/{catalog}/items:
    x-resource: catalogs/items
    get:
      tags:
        - catalog
      description: List CatalogItems from a Catalog.
      operationId: listCatalogItems
      parameters:
        - name: catalog
          in: path
          description: The name of the Catalog resource.
          required: true
          schema:
            type: string
        - name: continue
          in: query
          description: An optional parameter to query more results from the server.
          required: false
          schema:
            type: string
        - name: labelSelector
          in: query
          description: A selector to restrict the list of returned objects by their labels.
          schema:
            type: string
        - name: limit
          in: query
          description: The maximum number of results returned in the list response.
          required: false
          schema:
            type: integer
            format: int32
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CatalogItemList'
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "429":
          description: Too Many Requests
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "503":
          description: Service Unavailable
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
    post:
      tags:
        - catalog
      description: Create a CatalogItem in a Catalog.
      operationId: createCatalogItem
      parameters:
        - name: catalog
          in: path
          description: The name of the Catalog resource.
          required: true
          schema:
            type: string
      requestBody:
        description: The CatalogItem resource to create.
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CatalogItem'
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CatalogItem'
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "409":
          description: Conflict
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "503":
          description: Service Unavailable
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
  /catalogs/{catalog}/items/{name}:
    x-resource: catalogs/items
    get:
      tags:
        - catalog
      description: Get a CatalogItem from a Catalog.
      operationId: getCatalogItem
      parameters:
        - name: catalog
          in: path
          description: The name of the Catalog resource.
          required: true
          schema:
            type: string
        - name: name
          in: path
          description: The name of the CatalogItem resource.
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CatalogItem'
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "503":
          description: Service Unavailable
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
    put:
      tags:
        - catalog
      description: Replace a CatalogItem in a Catalog.
      operationId: replaceCatalogItem
      parameters:
        - name: catalog
          in: path
          description: The name of the Catalog resource.
          required: true
          schema:
            type: string
        - name: name
          in: path
          description: The name of the CatalogItem resource.
          required: true
          schema:
            type: string
      requestBody:
        description: The CatalogItem resource to replace.
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CatalogItem'
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CatalogItem'
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CatalogItem'
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "409":
          description: Conflict
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "503":
          description: Service Unavailable
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
    delete:
      tags:
        - catalog
      description: Delete a CatalogItem from a Catalog.
      operationId: deleteCatalogItem
      parameters:
        - name: catalog
          in: path
          description: The name of the Catalog resource.
          required: true
          schema:
            type: string
        - name: name
          in: path
          description: The name of the CatalogItem resource.
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
        "503":
          description: Service Unavailable
          content:
            application/json:
              schema:
                $ref: '../v1beta1/openapi.yaml#/components/schemas/Status'
components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
    orgId:
      type: apiKey
      in: query
      name: org_id
      description: The UUID of the organization that owns the resource. Maps to an organizations metadata.name.
  schemas:
    # Catalog-specific schemas (shared types come from v1beta1 via external refs)
    Catalog:
      type: object
      properties:
        apiVersion:
          type: string
          description: 'APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources.'
        kind:
          type: string
          description: 'Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds.'
        metadata:
          $ref: '../v1beta1/openapi.yaml#/components/schemas/ObjectMeta'
        spec:
          $ref: '#/components/schemas/CatalogSpec'
        status:
          $ref: '#/components/schemas/CatalogStatus'
      required:
        - apiVersion
        - kind
        - metadata
        - spec
    CatalogSpec:
      type: object
      description: CatalogSpec describes the configuration of a catalog. Catalogs are containers for locally-managed CatalogItems.
      properties:
        displayName:
          type: string
          description: Human-readable display name shown in catalog listings.
        shortDescription:
          type: string
          description: A brief one-line description of the catalog.
        icon:
          type: string
          description: URL or data URI of the catalog icon for display in UI.
        visibility:
          $ref: '#/components/schemas/CatalogItemVisibility'
        provider:
          type: string
          description: Provider or publisher of the catalog (company or team name).
        support:
          type: string
          description: Link to support resources or documentation for getting help.
    CatalogStatus:
      type: object
      description: CatalogStatus represents the current status of a catalog source.
      properties:
        conditions:
          type: array
          description: Current state of the catalog source.
          items:
            $ref: '../v1beta1/openapi.yaml#/components/schemas/Condition'
      required:
        - conditions
    CatalogList:
      type: object
      description: CatalogList is a list of Catalogs.
      properties:
        apiVersion:
          type: string
          description: 'APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources.'
        kind:
          type: string
          description: 'Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds.'
        metadata:
          $ref: '../v1beta1/openapi.yaml#/components/schemas/ListMeta'
        items:
          type: array
          description: 'List of Catalogs.'
          items:
            $ref: '#/components/schemas/Catalog'
      required:
        - apiVersion
        - kind
        - metadata
        - items
    CatalogItemMeta:
      type: object
      description: 'Metadata for CatalogItem resources. Extends ObjectMeta with catalog scoping.'
      allOf:
        - $ref: '../v1beta1/openapi.yaml#/components/schemas/ObjectMeta'
        - type: object
          properties:
            catalog:
              type: string
              description: 'The catalog this item belongs to. Similar to namespace in Kubernetes.'
              example: edge-apps
          required:
            - catalog
    CatalogItem:
      type: object
      description: CatalogItem represents an application template from a catalog. It provides default configuration values that can be customized when adding the application to a fleet.
      properties:
        apiVersion:
          type: string
          description: 'APIVersion defines the versioned schema of this representation of an object.'
        kind:
          type: string
          description: 'Kind is a string value representing the REST resource this object represents.'
        metadata:
          $ref: '#/components/schemas/CatalogItemMeta'
        spec:
          $ref: '#/components/schemas/CatalogItemSpec'
      required:
        - apiVersion
        - kind
        - metadata
        - spec
    CatalogItemReference:
      type: object
      description: 'Reference to the primary artifact and optional alternative formats.'
      properties:
        uri:
          type: string
          description: 'Primary artifact URI without version tag. Supports OCI references, URLs, S3 paths, etc.'
          example: quay.io/prometheus/prometheus
        artifacts:
          type: array
          items:
            $ref: '#/components/schemas/CatalogItemArtifact'
          description: 'Alternative artifact formats (e.g., qcow2, ISO for bootc images).'
          example:
            - type: qcow2
              name: QCOW2 Disk Image
              uri: quay.io/redhat/rhel-bootc-qcow2
            - type: iso
              uri: quay.io/redhat/rhel-bootc-iso
      required:
        - uri
    CatalogItemArtifact:
      type: object
      description: 'An alternative artifact format.'
      properties:
        type:
          $ref: '#/components/schemas/CatalogItemArtifactType'
        name:
          type: string
          description: 'Optional human-readable display name for this artifact.'
          example: QCOW2 Disk Image
        uri:
          type: string
          description: 'Artifact URI (OCI reference, URL, S3 path, etc.).'
          example: quay.io/redhat/rhel-bootc-qcow2
      required:
        - uri
    CatalogItemArtifactType:
      type: string
      description: 'Type of artifact format. Includes bootc-image-builder output formats. Defaults to container if only one artifact.'
      enum:
        - container
        - qcow2
        - ami
        - iso
        - anaconda-iso
        - vmdk
        - vhd
        - raw
        - gce
      x-enum-varnames:
        - CatalogItemArtifactTypeContainer
        - CatalogItemArtifactTypeQcow2
        - CatalogItemArtifactTypeAmi
        - CatalogItemArtifactTypeIso
        - CatalogItemArtifactTypeAnacondaIso
        - CatalogItemArtifactTypeVmdk
        - CatalogItemArtifactTypeVhd
        - CatalogItemArtifactTypeRaw
        - CatalogItemArtifactTypeGce
    CatalogItemConfigurable:
      type: object
      description: 'Configuration fields that can be specified at item level (as defaults) and overridden at version level. Version-level values fully replace item-level values (not merged).'
      properties:
        config:
          type: object
          additionalProperties: true
          description: 'Configuration values (envVars, ports, volumes, resources, etc.).'
          example:
            envVars:
              LOG_LEVEL: info
            ports:
              - "9090:9090"
        configSchema:
          type: object
          additionalProperties: true
          description: 'JSON Schema defining configurable parameters and their validation.'
        readme:
          type: string
          description: 'Detailed documentation, preferably in markdown format.'
    CatalogItemSpec:
      type: object
      description: CatalogItemSpec defines the configuration for a catalog item.
      properties:
        category:
          $ref: '#/components/schemas/CatalogItemCategory'
        type:
          $ref: '#/components/schemas/CatalogItemType'
        reference:
          $ref: '#/components/schemas/CatalogItemReference'
        versions:
          type: array
          items:
            $ref: '#/components/schemas/CatalogItemVersion'
          description: 'Available versions using Cincinnati model. Use replaces for primary edge, skips when stable channel skips intermediate versions.'
          example:
            - version: "2.45.0"
              tag: v2.45.0
              channels: [stable, fast]
              replaces: "2.44.0"
              skips: ["2.43.0"]
            - version: "2.44.0"
              tag: v2.44.0
              channels: [fast]
              replaces: "2.43.0"
              deprecation:
                message: "Security fix in v2.45.0. Please upgrade."
            - version: "2.43.0"
              tag: v2.43.0
              channels: [stable, fast]
        defaults:
          $ref: '#/components/schemas/CatalogItemConfigurable'
        displayName:
          type: string
          description: Human-readable display name shown in catalog listings.
        shortDescription:
          type: string
          description: A brief one-line description of the catalog item.
        icon:
          type: string
          description: URL or data URI of the catalog item icon for display in UI.
        visibility:
          $ref: '#/components/schemas/CatalogItemVisibility'
        deprecation:
          $ref: '#/components/schemas/CatalogItemDeprecation'
        provider:
          type: string
          description: Provider or publisher of the catalog item (company or team name).
        support:
          type: string
          description: Link to support resources or documentation for getting help.
        homepage:
          type: string
          description: The homepage URL for the catalog item project.
        documentationUrl:
          type: string
          description: Link to external documentation.
      required:
        - type
        - reference
        - versions
    CatalogItemVersion:
      type: object
      description: |
        A version of a catalog item following the Cincinnati model where versions
        are nodes in an upgrade graph and channels are labels on those nodes.
        Upgrade edges are defined by replaces (single), skips (multiple), or
        skipRange (semver range). Includes CatalogItemConfigurable fields that
        override item-level defaults. Exactly one of tag or digest must be specified.
      allOf:
        - $ref: '#/components/schemas/CatalogItemConfigurable'
        - type: object
          properties:
            version:
              type: string
              description: 'Semantic version identifier (e.g., 1.2.3, v2.0.0-rc1). Required for version ordering and upgrade graph.'
              example: "2.45.0"
            tag:
              type: string
              description: 'Image tag to pull. Mutually exclusive with digest.'
              example: "v2.45.0"
            digest:
              type: string
              description: 'OCI digest for immutable reference. Mutually exclusive with tag. Format: sha256:...'
              example: "sha256:a3ed95caeb02ffe68cdd9fd84406680ae93d633cb16422d00e8a7c22955b46d4"
            channels:
              type: array
              items:
                type: string
              description: 'Channels this version belongs to.'
            replaces:
              type: string
              description: 'The single version this one replaces, defining the primary upgrade edge.'
            skips:
              type: array
              items:
                type: string
              description: 'Additional versions that can upgrade directly to this one. Use when stable channel skips intermediate fast-only versions.'
              example: ["1.0.0", "1.1.0"]
            skipRange:
              type: string
              description: 'Semver range of versions that can upgrade directly to this one. Use for z-stream updates or hotfixes.'
              example: ">=1.0.0 <1.3.0"
            deprecation:
              $ref: '#/components/schemas/CatalogItemDeprecation'
          required:
            - version
            - channels
          oneOf:
            - required:
                - tag
            - required:
                - digest
    CatalogItemList:
      type: object
      description: CatalogItemList is a list of CatalogItems.
      properties:
        apiVersion:
          type: string
          description: 'APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources.'
        kind:
          type: string
          description: 'Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds.'
        metadata:
          $ref: '../v1beta1/openapi.yaml#/components/schemas/ListMeta'
        items:
          type: array
          description: 'List of CatalogItems.'
          items:
            $ref: '#/components/schemas/CatalogItem'
      required:
        - apiVersion
        - kind
        - metadata
        - items
    CatalogItemCategory:
      type: string
      description: 'Category of a catalog item.'
      enum:
        - system
        - application
      default: application
      x-enum-varnames:
        - CatalogItemCategorySystem
        - CatalogItemCategoryApplication
    CatalogItemVisibility:
      type: string
      description: 'Visibility controls who can see and use the catalog item.'
      enum:
        - draft
        - published
      x-enum-varnames:
        - CatalogItemVisibilityDraft
        - CatalogItemVisibilityPublished
    CatalogItemType:
      type: string
      description: 'Type of catalog item within its category.'
      enum:
        # System category types
        - os
        - firmware
        - driver
        # Application category types
        - container
        - helm
        - quadlet
        - compose
        - data
      x-enum-varnames:
        - CatalogItemTypeOS
        - CatalogItemTypeFirmware
        - CatalogItemTypeDriver
        - CatalogItemTypeContainer
        - CatalogItemTypeHelm
        - CatalogItemTypeQuadlet
        - CatalogItemTypeCompose
        - CatalogItemTypeData
    CatalogItemDeprecation:
      type: object
      description: 'Deprecation information for a catalog item or version. Presence indicates deprecated status.'
      properties:
        message:
          type: string
          description: 'Required message explaining why this is deprecated and what to do instead.'
          example: "This item is deprecated. Use nginx-plus instead."
        replacement:
          type: string
          description: 'Optional name of the replacement catalog item (item-level only).'
          example: nginx-plus
      required:
        - message
