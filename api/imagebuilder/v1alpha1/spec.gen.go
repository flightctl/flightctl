// Package imagebuilder provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/oapi-codegen/oapi-codegen/v2 version v2.5.1 DO NOT EDIT.
package imagebuilder

import (
	"bytes"
	"compress/gzip"
	"encoding/base64"
	"fmt"
	"net/url"
	"path"
	"strings"

	externalRef0 "github.com/flightctl/flightctl/api/core/v1beta1"
	"github.com/getkin/kin-openapi/openapi3"
)

// Base64 encoded, gzipped, json marshaled Swagger object
var swaggerSpec = []string{

	"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",
	"Ckn5iW0+bP4vAAD//3M2GdxfhgAA",
}

// GetSwagger returns the content of the embedded swagger specification file
// or error if failed to decode
func decodeSpec() ([]byte, error) {
	zipped, err := base64.StdEncoding.DecodeString(strings.Join(swaggerSpec, ""))
	if err != nil {
		return nil, fmt.Errorf("error base64 decoding spec: %w", err)
	}
	zr, err := gzip.NewReader(bytes.NewReader(zipped))
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}
	var buf bytes.Buffer
	_, err = buf.ReadFrom(zr)
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}

	return buf.Bytes(), nil
}

var rawSpec = decodeSpecCached()

// a naive cached of a decoded swagger spec
func decodeSpecCached() func() ([]byte, error) {
	data, err := decodeSpec()
	return func() ([]byte, error) {
		return data, err
	}
}

// Constructs a synthetic filesystem for resolving external references when loading openapi specifications.
func PathToRawSpec(pathToFile string) map[string]func() ([]byte, error) {
	res := make(map[string]func() ([]byte, error))
	if len(pathToFile) > 0 {
		res[pathToFile] = rawSpec
	}

	for rawPath, rawFunc := range externalRef0.PathToRawSpec(path.Join(path.Dir(pathToFile), "../../core/v1beta1/openapi.yaml")) {
		if _, ok := res[rawPath]; ok {
			// it is not possible to compare functions in golang, so always overwrite the old value
		}
		res[rawPath] = rawFunc
	}
	return res
}

// GetSwagger returns the Swagger specification corresponding to the generated code
// in this file. The external references of Swagger specification are resolved.
// The logic of resolving external references is tightly connected to "import-mapping" feature.
// Externally referenced files must be embedded in the corresponding golang packages.
// Urls can be supported but this task was out of the scope.
func GetSwagger() (swagger *openapi3.T, err error) {
	resolvePath := PathToRawSpec("")

	loader := openapi3.NewLoader()
	loader.IsExternalRefsAllowed = true
	loader.ReadFromURIFunc = func(loader *openapi3.Loader, url *url.URL) ([]byte, error) {
		pathToFile := url.String()
		pathToFile = path.Clean(pathToFile)
		getSpec, ok := resolvePath[pathToFile]
		if !ok {
			err1 := fmt.Errorf("path not found: %s", pathToFile)
			return nil, err1
		}
		return getSpec()
	}
	var specData []byte
	specData, err = rawSpec()
	if err != nil {
		return
	}
	swagger, err = loader.LoadFromData(specData)
	if err != nil {
		return
	}
	return
}
