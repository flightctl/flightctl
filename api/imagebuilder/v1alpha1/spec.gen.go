// Package imagebuilder provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/oapi-codegen/oapi-codegen/v2 version v2.5.1 DO NOT EDIT.
package imagebuilder

import (
	"bytes"
	"compress/gzip"
	"encoding/base64"
	"fmt"
	"net/url"
	"path"
	"strings"

	externalRef0 "github.com/flightctl/flightctl/api/core/v1beta1"
	"github.com/getkin/kin-openapi/openapi3"
)

// Base64 encoded, gzipped, json marshaled Swagger object
var swaggerSpec = []string{

	"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",
	"6Zqk/Ma277f/CgAA//9vlUIQYJAAAA==",
}

// GetSwagger returns the content of the embedded swagger specification file
// or error if failed to decode
func decodeSpec() ([]byte, error) {
	zipped, err := base64.StdEncoding.DecodeString(strings.Join(swaggerSpec, ""))
	if err != nil {
		return nil, fmt.Errorf("error base64 decoding spec: %w", err)
	}
	zr, err := gzip.NewReader(bytes.NewReader(zipped))
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}
	var buf bytes.Buffer
	_, err = buf.ReadFrom(zr)
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}

	return buf.Bytes(), nil
}

var rawSpec = decodeSpecCached()

// a naive cached of a decoded swagger spec
func decodeSpecCached() func() ([]byte, error) {
	data, err := decodeSpec()
	return func() ([]byte, error) {
		return data, err
	}
}

// Constructs a synthetic filesystem for resolving external references when loading openapi specifications.
func PathToRawSpec(pathToFile string) map[string]func() ([]byte, error) {
	res := make(map[string]func() ([]byte, error))
	if len(pathToFile) > 0 {
		res[pathToFile] = rawSpec
	}

	for rawPath, rawFunc := range externalRef0.PathToRawSpec(path.Join(path.Dir(pathToFile), "../../core/v1beta1/openapi.yaml")) {
		if _, ok := res[rawPath]; ok {
			// it is not possible to compare functions in golang, so always overwrite the old value
		}
		res[rawPath] = rawFunc
	}
	return res
}

// GetSwagger returns the Swagger specification corresponding to the generated code
// in this file. The external references of Swagger specification are resolved.
// The logic of resolving external references is tightly connected to "import-mapping" feature.
// Externally referenced files must be embedded in the corresponding golang packages.
// Urls can be supported but this task was out of the scope.
func GetSwagger() (swagger *openapi3.T, err error) {
	resolvePath := PathToRawSpec("")

	loader := openapi3.NewLoader()
	loader.IsExternalRefsAllowed = true
	loader.ReadFromURIFunc = func(loader *openapi3.Loader, url *url.URL) ([]byte, error) {
		pathToFile := url.String()
		pathToFile = path.Clean(pathToFile)
		getSpec, ok := resolvePath[pathToFile]
		if !ok {
			err1 := fmt.Errorf("path not found: %s", pathToFile)
			return nil, err1
		}
		return getSpec()
	}
	var specData []byte
	specData, err = rawSpec()
	if err != nil {
		return
	}
	swagger, err = loader.LoadFromData(specData)
	if err != nil {
		return
	}
	return
}
