// Package v1 provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/oapi-codegen/oapi-codegen/v2 version v2.3.0 DO NOT EDIT.
package v1

import (
	"encoding/json"
	"fmt"
	"time"
)

// ApplicationProviderSpec Application provider specification.
type ApplicationProviderSpec struct {
	EnvVars              *map[string]string     `json:"envVars,omitempty"`
	Image                *string                `json:"image,omitempty"`
	Name                 *string                `json:"name,omitempty"`
	AdditionalProperties map[string]interface{} `json:"-"`
}

// Condition Condition contains details for one aspect of the current state.
type Condition struct {
	LastTransitionTime *time.Time `json:"lastTransitionTime,omitempty"`
	Message            *string    `json:"message,omitempty"`
	Reason             *string    `json:"reason,omitempty"`
	Status             *string    `json:"status,omitempty"`
	Type               *string    `json:"type,omitempty"`
}

// ConfigProviderSpec Config provider specification.
type ConfigProviderSpec struct {
	ConfigType           *string                `json:"configType,omitempty"`
	Name                 *string                `json:"name,omitempty"`
	AdditionalProperties map[string]interface{} `json:"-"`
}

// Device Device represents a physical device.
type Device struct {
	// ApiVersion APIVersion defines the versioned schema of this representation of an object.
	ApiVersion string `json:"apiVersion"`

	// Kind Kind is a string value representing the REST resource this object represents.
	Kind string `json:"kind"`

	// Metadata ObjectMeta is metadata that all persisted resources must have.
	Metadata ObjectMeta `json:"metadata"`

	// Spec DeviceSpec describes a device.
	Spec *DeviceSpec `json:"spec,omitempty"`

	// Status DeviceStatus represents information about the status of a device.
	Status *DeviceStatus `json:"status,omitempty"`
}

// DeviceApplicationStatus defines model for DeviceApplicationStatus.
type DeviceApplicationStatus struct {
	Name     *string `json:"name,omitempty"`
	Ready    *string `json:"ready,omitempty"`
	Restarts *int    `json:"restarts,omitempty"`
	Status   *string `json:"status,omitempty"`
}

// DeviceApplicationsSummaryStatus defines model for DeviceApplicationsSummaryStatus.
type DeviceApplicationsSummaryStatus struct {
	Info   *string `json:"info,omitempty"`
	Status *string `json:"status,omitempty"`
}

// DeviceConfigStatus defines model for DeviceConfigStatus.
type DeviceConfigStatus struct {
	Info   *string `json:"info,omitempty"`
	Status *string `json:"status,omitempty"`
}

// DeviceConsole DeviceConsole represents the console connection information.
type DeviceConsole struct {
	SessionID       string `json:"sessionID"`
	SessionMetadata string `json:"sessionMetadata"`
}

// DeviceDecommission Device decommission configuration.
type DeviceDecommission struct {
	ScheduledAt *time.Time `json:"scheduledAt,omitempty"`
	State       *string    `json:"state,omitempty"`
}

// DeviceIntegrityStatus defines model for DeviceIntegrityStatus.
type DeviceIntegrityStatus struct {
	Info   *string `json:"info,omitempty"`
	Status *string `json:"status,omitempty"`
}

// DeviceLifecycleStatus defines model for DeviceLifecycleStatus.
type DeviceLifecycleStatus struct {
	Info   *string `json:"info,omitempty"`
	Status *string `json:"status,omitempty"`
}

// DeviceList DeviceList is a list of Devices.
type DeviceList struct {
	// ApiVersion APIVersion defines the versioned schema of this representation of an object.
	ApiVersion string `json:"apiVersion"`

	// Items List of Devices.
	Items []Device `json:"items"`

	// Kind Kind is a string value representing the REST resource this object represents.
	Kind string `json:"kind"`

	// Metadata ListMeta is metadata for list responses.
	Metadata ListMeta `json:"metadata"`

	// Summary A summary of the devices.
	Summary *DevicesSummary `json:"summary,omitempty"`
}

// DeviceOsRollback defines model for DeviceOsRollback.
type DeviceOsRollback struct {
	Image       *string `json:"image,omitempty"`
	ImageDigest *string `json:"imageDigest,omitempty"`
}

// DeviceOsSpec DeviceOsSpec describes the target OS for the device.
type DeviceOsSpec struct {
	// Image The target OS image name or URL.
	Image string `json:"image"`
}

// DeviceOsStatus defines model for DeviceOsStatus.
type DeviceOsStatus struct {
	BootedImage       *string           `json:"bootedImage,omitempty"`
	BootedImageDigest *string           `json:"bootedImageDigest,omitempty"`
	Image             *string           `json:"image,omitempty"`
	ImageDigest       *string           `json:"imageDigest,omitempty"`
	Info              *string           `json:"info,omitempty"`
	Rollback          *DeviceOsRollback `json:"rollback,omitempty"`
	Status            *string           `json:"status,omitempty"`
}

// DeviceResourceStatus defines model for DeviceResourceStatus.
type DeviceResourceStatus struct {
	Cpu    *ResourceAlertStatus `json:"cpu,omitempty"`
	Disk   *ResourceAlertStatus `json:"disk,omitempty"`
	Memory *ResourceAlertStatus `json:"memory,omitempty"`
}

// DeviceSpec DeviceSpec describes a device.
type DeviceSpec struct {
	// Applications List of application providers.
	Applications *[]ApplicationProviderSpec `json:"applications,omitempty"`

	// Config List of config providers.
	Config *[]ConfigProviderSpec `json:"config,omitempty"`

	// Consoles The list of active console sessions.
	Consoles *[]DeviceConsole `json:"consoles,omitempty"`

	// Decommissioning Device decommission configuration.
	Decommissioning *DeviceDecommission `json:"decommissioning,omitempty"`

	// Os DeviceOsSpec describes the target OS for the device.
	Os *DeviceOsSpec `json:"os,omitempty"`

	// Resources Array of resource monitor configurations.
	Resources *[]ResourceMonitor `json:"resources,omitempty"`

	// Systemd The systemd services to monitor.
	Systemd *struct {
		// MatchPatterns A list of match patterns.
		MatchPatterns *[]string `json:"matchPatterns,omitempty"`
	} `json:"systemd,omitempty"`

	// UpdatePolicy DeviceUpdatePolicySpec describes the update policy for a device.
	UpdatePolicy *DeviceUpdatePolicySpec `json:"updatePolicy,omitempty"`
}

// DeviceStatus DeviceStatus represents information about the status of a device.
type DeviceStatus struct {
	// Applications List of device application statuses.
	Applications        *[]DeviceApplicationStatus       `json:"applications,omitempty"`
	ApplicationsSummary *DeviceApplicationsSummaryStatus `json:"applicationsSummary,omitempty"`

	// Conditions Conditions represent the observations of a the current state of a device.
	Conditions *[]Condition           `json:"conditions,omitempty"`
	Config     *DeviceConfigStatus    `json:"config,omitempty"`
	Integrity  *DeviceIntegrityStatus `json:"integrity,omitempty"`
	LastSeen   *time.Time             `json:"-"`
	Lifecycle  *DeviceLifecycleStatus `json:"lifecycle,omitempty"`
	Os         *DeviceOsStatus        `json:"os,omitempty"`
	Resources  *DeviceResourceStatus  `json:"resources,omitempty"`
	Summary    *DeviceSummaryStatus   `json:"summary,omitempty"`

	// SystemInfo System information collected from the device.
	SystemInfo *DeviceSystemInfo `json:"systemInfo,omitempty"`

	// Systemd List of systemd unit statuses.
	Systemd *[]SystemdUnitStatus `json:"systemd,omitempty"`
	Updated *DeviceUpdatedStatus `json:"updated,omitempty"`
}

// DeviceSummaryStatus defines model for DeviceSummaryStatus.
type DeviceSummaryStatus struct {
	Info   *string `json:"info,omitempty"`
	Status *string `json:"status,omitempty"`
}

// DeviceSystemInfo System information collected from the device.
type DeviceSystemInfo struct {
	AgentVersion    *string            `json:"agentVersion,omitempty"`
	Architecture    *string            `json:"architecture,omitempty"`
	BootID          *string            `json:"bootID,omitempty"`
	CustomInfo      *map[string]string `json:"customInfo,omitempty"`
	OperatingSystem *string            `json:"operatingSystem,omitempty"`
}

// DeviceUpdatePolicySpec DeviceUpdatePolicySpec describes the update policy for a device.
type DeviceUpdatePolicySpec struct {
	DownloadSchedule *string `json:"downloadSchedule,omitempty"`
	UpdateSchedule   *string `json:"updateSchedule,omitempty"`
}

// DeviceUpdatedStatus defines model for DeviceUpdatedStatus.
type DeviceUpdatedStatus struct {
	Info   *string `json:"info,omitempty"`
	Status *string `json:"status,omitempty"`
}

// DevicesSummary A summary of the devices.
type DevicesSummary struct {
	ApplicationStatus *map[string]int64 `json:"applicationStatus,omitempty"`
	SummaryStatus     *map[string]int64 `json:"summaryStatus,omitempty"`
	Total             *int64            `json:"total,omitempty"`
	UpdateStatus      *map[string]int64 `json:"updateStatus,omitempty"`
}

// ListMeta ListMeta is metadata for list responses.
type ListMeta struct {
	// Continue An opaque value used for pagination.
	Continue *string `json:"continue,omitempty"`

	// RemainingItemCount The number of items remaining in the list.
	RemainingItemCount *int64 `json:"remainingItemCount,omitempty"`
}

// ObjectMeta ObjectMeta is metadata that all persisted resources must have.
type ObjectMeta struct {
	// Annotations Properties set by the service.
	Annotations *map[string]string `json:"annotations,omitempty"`

	// CreationTimestamp The time the object was created.
	CreationTimestamp *time.Time `json:"creationTimestamp,omitempty"`

	// DeletionTimestamp The time the object will be deleted.
	DeletionTimestamp *time.Time `json:"deletionTimestamp,omitempty"`

	// Generation A sequence number representing a specific generation of the desired state.
	Generation *int64 `json:"generation,omitempty"`

	// Labels Map of string keys and values that can be used to organize and categorize (scope and select) objects.
	Labels *map[string]string `json:"labels,omitempty"`

	// Name The name of the object.
	Name *string `json:"name,omitempty"`

	// Owner A resource that owns this resource, in "kind/name" format.
	Owner *string `json:"owner,omitempty"`

	// ResourceVersion An opaque string that identifies the server's internal version of an object.
	ResourceVersion *string `json:"resourceVersion,omitempty"`
}

// ResourceAlertStatus defines model for ResourceAlertStatus.
type ResourceAlertStatus struct {
	Info   *string `json:"info,omitempty"`
	Status *string `json:"status,omitempty"`
}

// ResourceMonitor Resource monitor configuration.
type ResourceMonitor struct {
	AlertRules  *[]map[string]interface{} `json:"alertRules,omitempty"`
	MonitorType *string                   `json:"monitorType,omitempty"`
}

// Status Status is a return value for calls that do not return other objects.
type Status struct {
	// ApiVersion APIVersion defines the versioned schema of this representation of an object.
	ApiVersion *string `json:"apiVersion,omitempty"`

	// Code Suggested HTTP return code for this status, 0 if not set.
	Code *int32 `json:"code,omitempty"`

	// Kind Kind is a string value representing the REST resource this object represents.
	Kind *string `json:"kind,omitempty"`

	// Message A human-readable description of the status of this operation.
	Message *string `json:"message,omitempty"`

	// Reason A machine-readable description of why this operation is in the "Failure" status.
	Reason *string `json:"reason,omitempty"`
}

// SystemdUnitStatus defines model for SystemdUnitStatus.
type SystemdUnitStatus struct {
	ActiveState *string `json:"activeState,omitempty"`
	Description *string `json:"description,omitempty"`
	EnableState *string `json:"enableState,omitempty"`
	LoadState   *string `json:"loadState,omitempty"`
	SubState    *string `json:"subState,omitempty"`
	Unit        *string `json:"unit,omitempty"`
}

// ListDevicesParams defines parameters for ListDevices.
type ListDevicesParams struct {
	// Continue An optional parameter to query more results from the server. The value of the parameter must match the value of the 'continue' field in the previous list response.
	Continue *string `form:"continue,omitempty" json:"continue,omitempty"`

	// LabelSelector A selector to restrict the list of returned objects by their labels. Defaults to everything.
	LabelSelector *string `form:"labelSelector,omitempty" json:"labelSelector,omitempty"`

	// FieldSelector A selector to restrict the list of returned objects by their fields, supporting operators like '=', '==', and '!=' (e.g., "key1=value1,key2!=value2").
	FieldSelector *string `form:"fieldSelector,omitempty" json:"fieldSelector,omitempty"`

	// Limit The maximum number of results returned in the list response. The server will set the 'continue' field in the list response if more results exist. The continue value may then be specified as parameter in a subsequent query.
	Limit *int32 `form:"limit,omitempty" json:"limit,omitempty"`

	// SummaryOnly A boolean flag to include only a summary of the devices. When set to true, the response will contain only the summary information.
	SummaryOnly *bool `form:"summaryOnly,omitempty" json:"summaryOnly,omitempty"`
}

// CreateDeviceJSONRequestBody defines body for CreateDevice for application/json ContentType.
type CreateDeviceJSONRequestBody = Device

// ReplaceDeviceJSONRequestBody defines body for ReplaceDevice for application/json ContentType.
type ReplaceDeviceJSONRequestBody = Device

// Getter for additional properties for ApplicationProviderSpec. Returns the specified
// element and whether it was found
func (a ApplicationProviderSpec) Get(fieldName string) (value interface{}, found bool) {
	if a.AdditionalProperties != nil {
		value, found = a.AdditionalProperties[fieldName]
	}
	return
}

// Setter for additional properties for ApplicationProviderSpec
func (a *ApplicationProviderSpec) Set(fieldName string, value interface{}) {
	if a.AdditionalProperties == nil {
		a.AdditionalProperties = make(map[string]interface{})
	}
	a.AdditionalProperties[fieldName] = value
}

// Override default JSON handling for ApplicationProviderSpec to handle AdditionalProperties
func (a *ApplicationProviderSpec) UnmarshalJSON(b []byte) error {
	object := make(map[string]json.RawMessage)
	err := json.Unmarshal(b, &object)
	if err != nil {
		return err
	}

	if raw, found := object["envVars"]; found {
		err = json.Unmarshal(raw, &a.EnvVars)
		if err != nil {
			return fmt.Errorf("error reading 'envVars': %w", err)
		}
		delete(object, "envVars")
	}

	if raw, found := object["image"]; found {
		err = json.Unmarshal(raw, &a.Image)
		if err != nil {
			return fmt.Errorf("error reading 'image': %w", err)
		}
		delete(object, "image")
	}

	if raw, found := object["name"]; found {
		err = json.Unmarshal(raw, &a.Name)
		if err != nil {
			return fmt.Errorf("error reading 'name': %w", err)
		}
		delete(object, "name")
	}

	if len(object) != 0 {
		a.AdditionalProperties = make(map[string]interface{})
		for fieldName, fieldBuf := range object {
			var fieldVal interface{}
			err := json.Unmarshal(fieldBuf, &fieldVal)
			if err != nil {
				return fmt.Errorf("error unmarshaling field %s: %w", fieldName, err)
			}
			a.AdditionalProperties[fieldName] = fieldVal
		}
	}
	return nil
}

// Override default JSON handling for ApplicationProviderSpec to handle AdditionalProperties
func (a ApplicationProviderSpec) MarshalJSON() ([]byte, error) {
	var err error
	object := make(map[string]json.RawMessage)

	if a.EnvVars != nil {
		object["envVars"], err = json.Marshal(a.EnvVars)
		if err != nil {
			return nil, fmt.Errorf("error marshaling 'envVars': %w", err)
		}
	}

	if a.Image != nil {
		object["image"], err = json.Marshal(a.Image)
		if err != nil {
			return nil, fmt.Errorf("error marshaling 'image': %w", err)
		}
	}

	if a.Name != nil {
		object["name"], err = json.Marshal(a.Name)
		if err != nil {
			return nil, fmt.Errorf("error marshaling 'name': %w", err)
		}
	}

	for fieldName, field := range a.AdditionalProperties {
		object[fieldName], err = json.Marshal(field)
		if err != nil {
			return nil, fmt.Errorf("error marshaling '%s': %w", fieldName, err)
		}
	}
	return json.Marshal(object)
}

// Getter for additional properties for ConfigProviderSpec. Returns the specified
// element and whether it was found
func (a ConfigProviderSpec) Get(fieldName string) (value interface{}, found bool) {
	if a.AdditionalProperties != nil {
		value, found = a.AdditionalProperties[fieldName]
	}
	return
}

// Setter for additional properties for ConfigProviderSpec
func (a *ConfigProviderSpec) Set(fieldName string, value interface{}) {
	if a.AdditionalProperties == nil {
		a.AdditionalProperties = make(map[string]interface{})
	}
	a.AdditionalProperties[fieldName] = value
}

// Override default JSON handling for ConfigProviderSpec to handle AdditionalProperties
func (a *ConfigProviderSpec) UnmarshalJSON(b []byte) error {
	object := make(map[string]json.RawMessage)
	err := json.Unmarshal(b, &object)
	if err != nil {
		return err
	}

	if raw, found := object["configType"]; found {
		err = json.Unmarshal(raw, &a.ConfigType)
		if err != nil {
			return fmt.Errorf("error reading 'configType': %w", err)
		}
		delete(object, "configType")
	}

	if raw, found := object["name"]; found {
		err = json.Unmarshal(raw, &a.Name)
		if err != nil {
			return fmt.Errorf("error reading 'name': %w", err)
		}
		delete(object, "name")
	}

	if len(object) != 0 {
		a.AdditionalProperties = make(map[string]interface{})
		for fieldName, fieldBuf := range object {
			var fieldVal interface{}
			err := json.Unmarshal(fieldBuf, &fieldVal)
			if err != nil {
				return fmt.Errorf("error unmarshaling field %s: %w", fieldName, err)
			}
			a.AdditionalProperties[fieldName] = fieldVal
		}
	}
	return nil
}

// Override default JSON handling for ConfigProviderSpec to handle AdditionalProperties
func (a ConfigProviderSpec) MarshalJSON() ([]byte, error) {
	var err error
	object := make(map[string]json.RawMessage)

	if a.ConfigType != nil {
		object["configType"], err = json.Marshal(a.ConfigType)
		if err != nil {
			return nil, fmt.Errorf("error marshaling 'configType': %w", err)
		}
	}

	if a.Name != nil {
		object["name"], err = json.Marshal(a.Name)
		if err != nil {
			return nil, fmt.Errorf("error marshaling 'name': %w", err)
		}
	}

	for fieldName, field := range a.AdditionalProperties {
		object[fieldName], err = json.Marshal(field)
		if err != nil {
			return nil, fmt.Errorf("error marshaling '%s': %w", fieldName, err)
		}
	}
	return json.Marshal(object)
}
