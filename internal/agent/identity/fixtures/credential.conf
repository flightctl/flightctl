# Automatically generated TPM credential configuration for {{.ServiceName}}
# This file was created by flightctl-agent when TPM authentication was initialized

[Service]
# Load encrypted credential - systemd will decrypt it at runtime
# The credential will be available at $CREDENTIALS_DIRECTORY/{{.CredentialName}}
LoadCredentialEncrypted={{.CredentialName}}:{{.SealedPath}}

# Set environment variable pointing to the decrypted credential
# %d is the systemd specifier for credentials directory
Environment="{{.EnvVarName}}=%d/{{.CredentialName}}"
